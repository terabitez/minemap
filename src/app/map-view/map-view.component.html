
<ngt-canvas [shadows]="true" [scene]="{ background: 'white' | color }">
  <ngt-ambient-light [intensity]="0.5"></ngt-ambient-light>
  <ngt-point-light
    [intensity]="0.5"
    [position]="[1, 1, 0]"
  ></ngt-point-light>
  <ngt-point-light
    [intensity]="0.5"
    [position]="[-1, 1, 0]"
  ></ngt-point-light>
  <ngt-point-light
    [intensity]="0.5"
    [position]="[1, -1, 0]"
    ></ngt-point-light>

 <div *ngFor="let pin of pinList; index as i;">
   <ngt-mesh  name="{{pin.id}}" 
     (pointerover)="onHover()"
     (pointerout)="onHoverOut()"
     (click)="onPinClick($event)" 
     (ready)="spriteloaded($event)" 
     [position]=pin.position
     [scale]=pin.scale>
   </ngt-mesh>

 </div>

<ngt-primitive 
  *ngIf="facilities$ | async as facilities"
  [object]="facilities.scene"
  (ready)="facilitiesLoaded($event)"
>

</ngt-primitive>
  <ngt-primitive
  *ngIf="terrainYear16$ | async as terrainYear16"
  [object]="terrainYear16.scene"
  (ready)="terrainYear16Loaded($event)"
  >
</ngt-primitive>

<ngt-primitive
*ngIf="terrainExisting$ | async as terrainExisting"
[object]="terrainExisting.scene"
(ready)="terrainExistingLoaded($event)"
>
</ngt-primitive>
  <ngt-primitive
  *ngIf="terrainOuter$ | async as terrainOuter"
  [object]="terrainOuter.scene"
  (ready)="terrainOuterLoaded($event)"
>
</ngt-primitive>
  <ngt-soba-orbit-controls
    #controls="ngtSobaOrbitControls"
    [target]="[0, -50, -100]"
    (ready)="controlsReady(controls)"
  ></ngt-soba-orbit-controls>
</ngt-canvas>
<!-- <div class="w-full h-screen bg-black z-50" >
  <ngt-soba-loader></ngt-soba-loader>

</div>
 -->